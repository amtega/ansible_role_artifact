---
# Role variables

# Defaults for error handling

artifact_retries: 3
artifact_delay: 1

# Defaults for checksum

artifact_checksum_algorithm: sha256

# Artifact list to manage (included the items loaded from hostvars)

artifact_to_manage: >-
  {{ artifact_list
     + ((artifact_load_from_hostvars | bool)
        | ternary(artifact_hostvars | default([]) | flatten, [])) }}

artifact_to_manage_undefined: >-
  {{ artifact_to_manage
     | selectattr("state", "undefined")
     | list }}

artifact_to_manage_present: >-
  {{ artifact_to_manage
     | selectattr("state", "defined")
     | selectattr("state", "equalto", "present")
     | list
     + artifact_to_manage_undefined }}

artifact_to_manage_absent: >-
  {{ artifact_to_manage
     | selectattr("state", "defined")
     | selectattr("state", "equalto", "absent")
     | list }}
